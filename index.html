<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>games</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #f0f0f0;
    }

    #overlay {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.6);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 999;
    }

    #captchaBox {
      background: white;
      padding: 20px;
      border-radius: 8px;
      width: 400px;
      text-align: center;
      box-shadow: 0 0 10px #000;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(5, 50px);
      grid-gap: 5px;
      margin: 20px auto;
    }

    .cell {
      width: 50px;
      height: 50px;
      background-color: #eee;
      border: 1px solid #ccc;
      cursor: pointer;
    }

    .cell.selected {
      background-color: #4caf50;
    }

    .preview {
      display: grid;
      grid-template-columns: repeat(5, 20px);
      grid-gap: 3px;
      margin: 10px auto;
    }

    .preview-cell {
      width: 20px;
      height: 20px;
      background-color: #ccc;
    }

    .preview-cell.active {
      background-color: #4caf50;
    }

    #wordInput {
      margin-top: 20px;
    }

    #loadingScreen {
      font-size: 20px;
      display: none;
      margin-top: 20px;
    }

    #redirectButton {
      margin-top: 20px;
      display: none;
    }
  </style>
</head>
<body>

<div id="overlay">
  <div id="captchaBox">
    <h2>Verify You're Human</h2>
    <div id="patternPreview" class="preview"></div>
    <div class="grid" id="mainGrid"></div>
    <button onclick="submitPattern()">Submit Pattern</button>

    <div id="wordInput" style="display:none;">
      <input type="text" id="wordField" placeholder="Enter a word (min 3 letters)">
      <button onclick="submitWord()">Submit Word</button>
    </div>

    <div id="loadingScreen">Verifying... Please wait.</div>
    <button id="redirectButton" onclick="window.location.href='nextpage.html'">Go to Next Page</button>
  </div>
</div>

<script>
  const patterns = [
    [
      1,0,1,0,1,
      0,1,0,1,0,
      1,0,1,0,1,
      0,1,0,1,0,
      1,0,1,0,1
    ],
    [
      0,0,1,1,0,
      1,0,0,0,1,
      0,1,1,1,0,
      1,0,0,0,1,
      0,0,1,1,0
    ],
    [
      0,0,1,1,0,
      0,0,1,1,1,
      1,1,0,1,0,
      0,0,0,1,1,
      0,0,1,1,0
    ],
    [
      0,1,1,0,0,
      1,0,1,0,1,
      0,1,0,1,1,
      1,0,0,1,1,
      0,1,1,1,1
    ]
  ];

  let currentPattern = 0;
  let wordStep = 0;

  window.onload = () => {
    createPatternPreview();
    createMainGrid();
  };

  function createPatternPreview() {
    const preview = document.getElementById('patternPreview');
    preview.innerHTML = '';
    patterns[currentPattern].forEach(val => {
      const cell = document.createElement('div');
      cell.className = 'preview-cell' + (val ? ' active' : '');
      preview.appendChild(cell);
    });
  }

  function createMainGrid() {
    const grid = document.getElementById('mainGrid');
    grid.innerHTML = '';
    for (let i = 0; i < 25; i++) {
      const cell = document.createElement('div');
      cell.className = 'cell';
      cell.onclick = () => cell.classList.toggle('selected');
      grid.appendChild(cell);
    }
  }

  function submitPattern() {
    const selected = Array.from(document.querySelectorAll('.cell')).map(c => c.classList.contains('selected') ? 1 : 0);
    const match = patterns[currentPattern];
    let matchCount = 0;
    for (let i = 0; i < 25; i++) {
      if (selected[i] === match[i]) matchCount++;
    }
    if (matchCount === 25) {
      currentPattern++;
      if (currentPattern < patterns.length) {
        createPatternPreview();
        createMainGrid();
      } else {
        document.getElementById('patternPreview').remove();
        document.getElementById('mainGrid').remove();
        document.querySelector('button').remove();
        document.getElementById('wordInput').style.display = 'block';
      }
    } else {
      alert('Pattern incorrect. Try again!');
    }
  }

  function submitWord() {
    const input = document.getElementById('wordField');
    const minLength = 3 + wordStep;
    if (input.value.length < minLength) {
      alert(`Word must be at least ${minLength} letters.`);
      return;
    }
    wordStep++;
    input.value = '';
    input.placeholder = `Enter next word (min ${3 + wordStep} letters)`;
    if (wordStep >= 9) {
      document.getElementById('wordInput').remove();
      document.getElementById('loadingScreen').style.display = 'block';
      setTimeout(() => {
        document.getElementById('loadingScreen').innerText = 'âœ… You are verified!';
        document.getElementById('redirectButton').style.display = 'inline-block';
      }, 3000);
    }
  }
</script>

</body>
</html>

